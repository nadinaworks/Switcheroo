"use strict";function platformDetect(){var t,r,e,o;$.support.touch="ontouchend"in document;var c=navigator.userAgent.toLowerCase(),i=navigator.platform.toLowerCase(),n=i.indexOf("iphone"),a=i.indexOf("ipod"),u=i.indexOf("android"),s=-1!=c.indexOf("safari")&&-1==c.indexOf("chrome")?!0:!1;window.SVGAngle?!0:!1,document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?!0:!1,/gecko/i.test(c)&&/rv:1.9/i.test(c)?!0:!1,t=n>-1||a>-1||u>-1?!0:!1,r=$.support.touch?!0:!1,e=$.support.leadingWhitespace?!1:!0,o="undefined"==typeof window.atob?!0:!1;var d=$("body");r&&d.addClass("touch"),s&&d.addClass("safari"),t&&d.addClass("phone"),(d.hasClass("touch")||d.hasClass("phone"))&&top.location.replace($products[$current_product].url)}function switcher_iframe_height(){if(!$("body").hasClass("toggle")){var t=$(window).height(),r=$(".switcher-bar").height()+$(".switcher-body").height(),e=t-r-2;$(".product-iframe").height(e)}}$.each($products,function(t,r){if("tooltip"in r)var e='title="'+r.tooltip.replace(/"/g,"'")+'"';else var e="";$(".products-list").append('<a class="product pull-left" data-product="'+r.name+'" data-id="'+t+'" '+e+'><img src="'+r.img+'" alt="'+r.name+'" width="236" height="120"><span class="title">'+r.name+'</span><span class="badge">'+r.tag+"</span></a>")}),$(".purchase-btn").click(function(){return $current_product in $products&&top.location.replace($products[$current_product].purchase),!1}),(jQuery.browser.mobile||$("body").hasClass("touch"))&&$current_product in $products&&top.location.replace($products[$current_product].url),$(".remove-btn").click(function(){return $current_product in $products&&top.location.replace($products[$current_product].url),!1}),$(document).ready(function(){switcher_iframe_height()}),$(window).resize(function(){switcher_iframe_height()}),$(window).load(function(){switcher_iframe_height()}),$(".desktop-btn").on("click",function(){return $(".product-iframe").animate({width:$(window).width()}),!1}),$(".tablet-btn").on("click",function(){return $(".product-iframe").animate({width:"768px"}),!1}),$(".mobile-btn").on("click",function(){return $(".product-iframe").animate({width:"480px"}),!1}),$(".products-list").carouFredSel({auto:!1,circular:!1,infinite:!1,cookie:"position",mousewheel:!0,scroll:{items:1},width:"100%",prev:".products-prev",next:".products-next"}),$(".product-switcher a").on("click",function(){return $("body").toggleClass("toggle"),$("body").hasClass("toggle")||(setTimeout("switcher_iframe_height()",210),setTimeout("switcher_iframe_height()",310),setTimeout("switcher_iframe_height()",410),setTimeout("switcher_iframe_height()",1500),setTimeout("switcher_iframe_height()",2500)),!1}),$(document).ready(function(){if($current_product=location.hash.replace("#",""),!($current_product in $products&&""!==$current_product||($current_product=location.search.replace("?product=",""),$current_product in $products&&""!==$current_product))){for(var t in $products)if($products.hasOwnProperty(t))break;$current_product=t}$(".product-switcher a").html($products[$current_product].name+' <span class="badge">'+$products[$current_product].tag+'</span><i class="icon-angle-down"></i>').attr("data-product",$products[$current_product].name),$(".product-options ul").html($products[$current_product].options),$(".product-iframe").attr("src",$products[$current_product].url),$(".product").tooltip({container:"body",html:!0,placement:"auto bottom",trigger:"hover"}),platformDetect()}),$(".product").click(function(){return $current_product=$(this).data("id"),$current_product in $products&&($("body").toggleClass("toggle"),$(".product-switcher a").html($products[$current_product].name+' <span class="badge">'+$products[$current_product].tag+'</span><i class="icon-angle-down"></i>').attr("data-product",$products[$current_product].name),$(".product-iframe").attr("src",$products[$current_product].url),location.hash="#"+$current_product,$(".product-options ul").html($products[$current_product].options)),!1}),$(document).ready(function(){$(".lens_rtl a").click(function(t){t.preventDefault(),$(".lens_rtl a").toggleClass("active"),$(".product-iframe").attr("src",$(this).attr("href"))}),$("input#sidebar-inverse").change(function(){$(this).is(":checked")?$(".product-iframe").contents().find("body").addClass("header-inverse"):$(".product-iframe").contents().find("body").removeClass("header-inverse")})});